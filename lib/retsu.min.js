/* 2016 Jason Mulligan <jason.mulligan@avoidwork.com> */

"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(a){var Retsu=function(){function Retsu(){_classCallCheck(this,Retsu),this.version="2.0.3"}return _createClass(Retsu,[{key:"add",value:function(a,b){return this.contains(a,b)||a.push(b),a}},{key:"binIndex",value:function(a,b){for(var c=a.length-1,d=0,e=0,f=0,g=-1;c>=d;)if(e=Math.floor((d+c)/2),f=a[e],b>f)d=e+1;else{if(!(f>b)){g=e;break}c=e-1}return g}},{key:"cast",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],c=void 0;return c=b===!0?Object.keys(a):isNaN(a.length)?Object.keys(a).map(function(b){return a[b]}):Array.from(a)}},{key:"chunk",value:function(a,b){for(var c=[],d=Math.ceil(a.length/b),e=0,f=-1;++f<d;)e=f*b,c.push(this.limit(a,e,b));return c}},{key:"clear",value:function(a){return a.length=0,a}},{key:"clone",value:function(a){return JSON.parse(JSON.stringify(a))}},{key:"contains",value:function(a,b){return a.indexOf(b)>-1}},{key:"collect",value:function(a,b){return a.map(b)}},{key:"compact",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],c=a.filter(function(a){return null!==a&&void 0!==a});return b!==!0?c:c.length<a.length?c:null}},{key:"count",value:function(a,b){return a.filter(function(a){return a===b}).length}},{key:"diff",value:function(a,b){var c=this;return a.filter(function(a){return!c.contains(b,a)}).concat(b.filter(function(b){return!c.contains(a,b)}))}},{key:"each",value:function(a,b){for(var c=arguments.length<=2||void 0===arguments[2]?a:arguments[2],d=a.length,e=-1;++e<d&&b.call(c,a[e],e)!==!1;);return a}},{key:"eachAsync",value:function(a,b){function c(){for(var a=-1,b=void 0,i=void 0;++a<d;)b=a+h,b!==g&&e.call(f,f[b],b)!==!1||(i=!1);h+=d,h>=g&&(i=!1),i!==!1&&setTimeout(c,0)}var d=arguments.length<=2||void 0===arguments[2]?10:arguments[2],e=arguments.length<=3||void 0===arguments[3]?b:arguments[3],f=this.clone(a),g=f.length,h=0;return d>g&&(d=g),c(),a}},{key:"eachReverse",value:function(a,b){for(var c=arguments.length<=2||void 0===arguments[2]?a:arguments[2],d=a.length;--d>-1&&b.call(c,a[d],d)!==!1;);return a}},{key:"eachReverseAsync",value:function(a,b){var c=arguments.length<=2||void 0===arguments[2]?10:arguments[2],d=arguments.length<=3||void 0===arguments[3]?b:arguments[3];return this.eachAsync(this.clone(a).reverse(),b,c,d),a}},{key:"equal",value:function(a,b){return JSON.stringify(a)===JSON.stringify(b)}},{key:"fill",value:function(a,b,c,d){var e=a.length,f=isNaN(c)?0:c,g=isNaN(d)?e-1:f+d;if(g>e-1&&(g=e-1),"function"==typeof b)for(;g>=f;)a[f]=b(a[f]),f++;else for(;g>=f;)a[f]=b,f++;return a}},{key:"first",value:function(a){return a[0]}},{key:"flat",value:function(a){return a.reduce(function(a,b){return a.concat(b)},[])}},{key:"forEach",value:function(a,b){var c=arguments.length<=2||void 0===arguments[2]?b:arguments[2];return this.each(a,b,c)}},{key:"fromObject",value:function(a){return this.mingle(Object.keys(a),this.cast(a))}},{key:"index",value:function(a,b){return a.indexOf(b)}},{key:"indexed",value:function(a){return Object.keys(a).map(function(b){return a[b]})}},{key:"intersect",value:function(a,b){var c=this,d=void 0,e=void 0;return a.length>b.length?(d=a,e=b):(d=b,e=a),d.filter(function(a){return c.contains(e,a)})}},{key:"isEmpty",value:function(a){return 0===a.length}},{key:"iterate",value:function(a,b){var c=this.iterator(a),d=-1,e=void 0,f=void 0;do e=c.next(),f=e.done?!1:b(e.value,++d);while(f!==!1);return a}},{key:"iterator",value:function(a){var b=a.length,c=-1;return{next:function(){return++c<b?{done:!1,value:a[c]}:{done:!0}}}}},{key:"keepIf",value:function(a,b){var c=this,d=void 0,e=void 0;return d=a.filter(b),e=this.diff(a,d),this.each(e,function(b){c.remove(a,c.index(a,b))}),a}},{key:"last",value:function(a,b){var c=a.length-1,d=b,e=void 0;return d>=c+1?e=a:isNaN(d)||1===d?e=a[c]:(--d,e=this.limit(a,c-d,c)),e}},{key:"limit",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?0:arguments[1],c=arguments.length<=2||void 0===arguments[2]?1:arguments[2],d=b+c,e=a.length,f=void 0;return e>0?(d>e&&(d=e),f=a.slice(b,d)):f=[],f}},{key:"max",value:function(a){return this.last(this.sorted(this.clone(a)))}},{key:"mean",value:function(a){return a.length>0?this.sum(a)/a.length:void 0}},{key:"median",value:function(a){var b=this.sorted(this.clone(a)),c=b.length,d=Math.floor(c/2);return c%2!==0?b[d]:(b[d-1]+b[d])/2}},{key:"merge",value:function(a,b){var c=this;return this.each(b,function(b){c.add(a,b)}),a}},{key:"min",value:function(a){return this.sorted(this.clone(a))[0]}},{key:"mingle",value:function(a,b){return a.map(function(a,c){return[a,b[c]]})}},{key:"mode",value:function a(b){var c={},d=0,a=[],e=void 0,f=void 0;return this.each(b,function(a){isNaN(c[a])?c[a]=1:c[a]++}),d=this.max(this.cast(c)),Object.keys(c).forEach(function(b){c[b]===d&&a.push(Number(b))}),e=a.length,e>0&&(f=1===e?a[0]:this.sorted(a)),f}},{key:"range",value:function(a){return this.max(a)-this.min(a)}},{key:"rassoc",value:function(a,b){var c=this,d=void 0;return this.each(a,function(a){return a[1]===b?(d=c.clone(a),!1):void 0}),d}},{key:"reject",value:function(a,b){return this.diff(a,a.filter(b))}},{key:"remove",value:function(a,b,c){var d=void 0,e=void 0;if(isNaN(b)){if(b=this.index(a,b),-1===b)return a}else b=b||0;return d=a.length,e=a.slice((c||b)+1||d),a.length=0>b?d+b:b,a.push.apply(a,e),a}},{key:"removeIf",value:function(a,b){var c=this,d=a.filter(b);return this.each(d,function(b){c.remove(a,c.index(a,b))}),a}},{key:"removeWhile",value:function(a,b){var c=this,d=[];return this.iterate(a,function(a){return b(a)===!1?!1:void d.push(a)}),this.iterate(d,function(b){c.remove(a,c.index(a,b))}),a}},{key:"replace",value:function(a,b){return this.clear(a),this.each(b,function(b){a.push(b)}),a}},{key:"rest",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?1:arguments[1];return 1>b&&(b=1),this.limit(a,b,a.length)}},{key:"rindex",value:function(a,b){var c=-1;return this.each(a,function(a,d){a===b&&(c=d)}),c}},{key:"rotate",value:function(a,b){var c=a.length,d=void 0;return 0===b?d=a:(0>b?b+=c:b--,d=this.limit(a,b,c).concat(this.limit(a,0,b))),d}},{key:"series",value:function(){for(var a=arguments.length<=0||void 0===arguments[0]?0:arguments[0],b=arguments.length<=1||void 0===arguments[1]?a:arguments[1],c=arguments.length<=2||void 0===arguments[2]?1:arguments[2],d=[],e=-1,f=a,g=Math.max(0,Math.ceil((b-a)/c));++e<g;)d[e]=f,f+=c;return d}},{key:"sort",value:function(a,b){var c={a:"undefined"==typeof a?"undefined":_typeof(a),b:"undefined"==typeof b?"undefined":_typeof(b)},d=void 0,e=void 0,f=void 0;return"number"===c.a&&"number"===c.b?f=a-b:(d=a.toString(),e=b.toString(),f=e>d?-1:d>e?1:c.a===c.b?0:"boolean"===c.a?-1:1),f}},{key:"sorted",value:function(a){return a.sort(this.sort)}},{key:"split",value:function(a,b){var c=[],d=a.length,e=Math.ceil(d/b),f=Math.floor(d/b),g=Math.ceil(d/e),h=!1,i=0,j=-1;for(Math.abs(d-b*e)>e?g=d-f*b+f-1:d%b>0&&g*e>=d&&g--;++j<b;)j>0&&(i+=e),!h&&b>g&&j===g&&(--e,h=!0),c.push(this.limit(a,i,e));return c}},{key:"stddev",value:function(a){return Math.sqrt(this.variance(a))}},{key:"sum",value:function(a){var b=0;return a.length>0&&(b=a.reduce(function(a,b){return a+b},0)),b}},{key:"take",value:function(a,b){return this.limit(a,0,b)}},{key:"toObject",value:function(a){for(var b={},c=a.length;c--;)b[c.toString()]=a[c];return b}},{key:"total",value:function(a){return this.indexed(a).length}},{key:"unique",value:function(a){var b=this,c=[];return this.each(a,function(a){b.add(c,a)}),c}},{key:"variance",value:function(a){var b=a.length,c=0,d=void 0,e=void 0;return b>0?(d=this.mean(a),this.each(a,function(a){c+=Math.pow(a-d,2)}),e=c/b):e=c,e}},{key:"zip",value:function(a){for(var b=this,c=arguments.length,d=Array(c>1?c-1:0),e=1;c>e;e++)d[e-1]=arguments[e];var f=[];return this.each(d,function(a,b){a instanceof Array||(d[b]=[a])}),this.each(a,function(a,c){f[c]=[a],b.each(d,function(a){f[c].push(a[c]||null)})}),f}}]),Retsu}();"undefined"!=typeof exports?module.exports=new Retsu:"function"==typeof define&&define.amd?define(function(){return new Retsu}):a.retsu=new Retsu}("undefined"!=typeof window?window:global);
//# sourceMappingURL=retsu.min.js.map