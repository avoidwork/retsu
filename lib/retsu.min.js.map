{"version":3,"file":"retsu.min.js","sources":["retsu.js"],"names":["global","server","undefined","process","slice","Array","prototype","array","add","obj","arg","contains","push","binIndex","idx","val","min","max","length","Math","floor","cast","key","o","isNaN","keys","utility","iterate","i","call","chunk","size","result","nth","number","round","start","limit","clear","remove","clone","shallow","indexOf","collect","fn","each","compact","diff","filter","regex","null_undefined","test","count","value","obj1","obj2","async","offset","repeat","eachReverse","empty","equal","json","encode","fill","l","first","flat","reduce","a","b","concat","forEach","fromObject","mingle","index","indexed","v","intersect","keepIf","Error","label","invalidArguments","Object","keySort","query","sub","replace","queries","string","explode","map","split","sorts","braceS","braceE","s","e","not_dotnotation","sort","Function","join","last","n","mean","sum","median","mid","sorted","odd","merge","mode","values","k","parse","range","rassoc","reject","end","remaining","apply","removeIf","removeWhile","rest","rindex","rotate","series","ceil","c","d","types","toString","divisor","total","low","lower","lowered","stddev","sqrt","variance","prev","cur","take","toObject","ar","unique","math","sqr","version","zip","args","this","x","decode","silent","JSON","error","arguments","stringify","expectedNumber","pow","num1","num2","abs","even","base","parseFloat","parseInt","direction","isEmpty","toFixed","down","bool","primitive","space_hyphen","url","trim","RegExp","timer","repeating","clearTimers","id","clearTimeout","Document","xml","__proto__","extend","defer","ms","op","uuid","setTimeout","scope","warning","message","stack","timestamp","Date","toUTCString","type","log","create","target","ts","msg","console","toLocaleTimeString","y","now","recursive","strip","random","substring","r","substr","DOMParser","parseFromString","wrap","node","top","name","output","cdata","XMLSerializer","serializeToString","boolean_number_string","valid","getElementsByTagName","exports","module","define","retsu"],"mappings":"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","sourcesContent":["/**\n * Array micro library focused on speed\n *\n * @author Jason Mulligan <jason.mulligan@avoidwork.com>\n * @copyright 2014 Jason Mulligan\n * @license BSD-3 <https://raw.github.com/avoidwork/retsu/master/LICENSE>\n * @link http://avoidwork.github.io/retsu\n * @module retsu\n * @version 1.0.2\n */\n( function ( global ) {\n\"use strict\";\n\nvar server = typeof process !== undefined,\n    slice  = Array.prototype.slice;\n\n/**\n * @namespace array\n */\nvar array = {\n\t/**\n\t * Adds 'arg' to 'obj' if it is not found\n\t *\n\t * @method add\n\t * @memberOf array\n\t * @param  {Array} obj Array to receive 'arg'\n\t * @param  {Mixed} arg Argument to set in 'obj'\n\t * @return {Array}     Array that was queried\n\t * @example\n\t * var myArray = [1, 2];\n\t *\n\t * array.add( myArray, 3 ); // [1, 2, 3]\n\t * array.add( myArray, 1 ); // [1, 2, 3]\n\t */\n\tadd : function ( obj, arg ) {\n\t\tif ( !array.contains( obj, arg ) ) {\n\t\t\tobj.push( arg );\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Performs a binary search on a sorted Array\n\t *\n\t * @method binIndex\n\t * @memberOf array\n\t * @param  {Array} obj Array to search\n\t * @param  {Mixed} arg Value to find index of\n\t * @return {Number}    Index of `arg` within `obj`\n\t * @example\n\t * var myArray = [1, 5, 10, 15, 20, 25, ...];\n\t *\n\t * array.binIndex( myArray, 5 ); // 1\n\t */\n\tbinIndex : function ( obj, arg ) {\n\t\tvar min = 0,\n\t\t    max = obj.length - 1,\n\t\t    idx, val;\n\n\t\twhile ( min <= max ) {\n\t\t\tidx = Math.floor( ( min + max ) / 2 );\n\t\t\tval = obj[idx];\n\n\t\t\tif ( val < arg ) {\n\t\t\t\tmin = idx + 1;\n\t\t\t}\n\t\t\telse if ( val > arg ) {\n\t\t\t\tmax = idx - 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn idx;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t},\n\n\t/**\n\t * Returns an Object ( NodeList, etc. ) as an Array\n\t *\n\t * @method cast\n\t * @memberOf array\n\t * @param  {Object}  obj Object to cast\n\t * @param  {Boolean} key [Optional] Returns key or value, only applies to Objects without a length property\n\t * @return {Array}       Object as an Array\n\t * @example\n\t * array.cast( document.querySelectorAll( \"...\" ) );\n\t */\n\tcast : function ( obj, key ) {\n\t\tkey   = ( key === true );\n\t\tvar o = [];\n\n\t\tif ( !isNaN( obj.length ) ) {\n\t\t\to = slice.call( obj );\n\t\t}\n\t\telse if ( key ) {\n\t\t\to = array.keys( obj );\n\t\t}\n\t\telse {\n\t\t\tutility.iterate( obj, function ( i ) {\n\t\t\t\to.push( i );\n\t\t\t} );\n\t\t}\n\n\t\treturn o;\n\t},\n\n\t/**\n\t * Transforms an Array to a 2D Array of chunks\n\t *\n\t * @method chunk\n\t * @memberOf array\n\t * @param  {Array}  obj  Array to process\n\t * @param  {Number} size Chunk size ( integer )\n\t * @return {Array}       Chunked Array\n\t * @example\n\t * array.chunk( [0, 1, 2, 3], 2 ); // [[0, 1], [2, 3]]\n\t */\n\tchunk : function ( obj, size ) {\n\t\tvar result = [],\n\t\t    nth    = number.round( ( obj.length / size ), \"up\" ),\n\t\t    start  = 0,\n\t\t    i      = -1;\n\n\t\twhile ( ++i < nth ) {\n\t\t\tstart = i * size;\n\t\t\tresult.push( array.limit( obj, start, size ) );\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Clears an Array without destroying it\n\t *\n\t * @method clear\n\t * @memberOf array\n\t * @param  {Array} obj Array to clear\n\t * @return {Array}     Cleared Array\n\t * @example\n\t * var myArray = [1, 2, 3, 4, 5];\n\t *\n\t * array.clear( myArray );\n\t * myarray.length; // 0\n\t */\n\tclear : function ( obj ) {\n\t\treturn obj.length > 0 ? array.remove( obj, 0, obj.length ) : obj;\n\t},\n\n\t/**\n\t * Clones an Array\n\t *\n\t * @method clone\n\t * @memberOf array\n\t * @param  {Array}   obj     Array to clone\n\t * @param  {Boolean} shallow [Optional] Default is `true`\n\t * @return {Array}           Clone of Array\n\t * @example\n\t * var myArray      = [1, 2, 3, 4, 5],\n\t *     myArrayClone = array.clone( myArray );\n\t *\n\t * myArrayClone.push( 6 );\n\t *\n\t * myarray.length;      // 5\n\t * myArrayClone.length; // 6\n\t */\n\tclone : function ( obj, shallow ) {\n\t\treturn utility.clone( obj, shallow !== false );\n\t},\n\n\t/**\n\t * Determines if obj contains arg\n\t *\n\t * @method contains\n\t * @memberOf array\n\t * @param  {Array} obj Array to search\n\t * @param  {Mixed} arg Value to look for\n\t * @return {Boolean}   True if found, false if not\n\t * @example\n\t * if ( array.contains( [1], 1 ) ) { ... }\n\t */\n\tcontains : function ( obj, arg ) {\n\t\treturn obj.indexOf( arg ) > -1;\n\t},\n\n\t/**\n\t * Creates a new Array of the result of `fn` executed against every index of `obj`\n\t *\n\t * @method collect\n\t * @memberOf array\n\t * @param  {Array}    obj Array to iterate\n\t * @param  {Function} fn  Function to execute against indices\n\t * @return {Array}        New Array\n\t * @example\n\t * var results = array.collect( [...], function ( ... ) { ... } );\n\t */\n\tcollect : function ( obj, fn ) {\n\t\tvar result = [];\n\n\t\tarray.each( obj, function ( i ) {\n\t\t\tresult.push( fn( i ) );\n\t\t} );\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Compacts a Array by removing `null` or `undefined` indices\n\t *\n\t * @method compact\n\t * @memberOf array\n\t * @param  {Array}   obj  Array to compact\n\t * @param  {Boolean} diff Indicates to return resulting Array only if there's a difference\n\t * @return {Array}        Compacted copy of `obj`, or null ( if `diff` is passed & no diff is found )\n\t * @example\n\t * array.compact( [null, \"a\", \"b\", \"c\", null, \"d\"] ); // [\"a\", \"b\", \"c\", \"d\"]\n\t * array.compact( [\"a\", \"b\", \"c\", \"d\"], true );       // null\n\t */\n\tcompact : function ( obj, diff ) {\n\t\tdiff = ( diff === true );\n\t\tvar result;\n\n\t\tresult = obj.filter( function ( i ) {\n\t\t\treturn !regex.null_undefined.test( i );\n\t\t} );\n\n\t\treturn !diff ? result : ( result.length < obj.length ? result : null );\n\t},\n\n\t/**\n\t * Counts `value` in `obj`\n\t *\n\t * @method count\n\t * @memberOf array\n\t * @param  {Array} obj   Array to search\n\t * @param  {Mixed} value Value to compare\n\t * @return {Array}       Array of counts\n\t * @example\n\t * array.count( [\"apple\", \"banana\", \"orange\", \"apple\"], \"apple\" ); // 2\n\t */\n\tcount : function ( obj, value ) {\n\t\treturn obj.filter( function ( i ) {\n\t\t\treturn ( i === value );\n\t\t} ).length;\n\t},\n\n\t/**\n\t * Finds the difference between two Arrays\n\t *\n\t * @method diff\n\t * @memberOf array\n\t * @param  {Array} obj1 Source Array\n\t * @param  {Array} obj2 Comparison Array\n\t * @return {Array}      Array of the differences\n\t * @example\n\t * array.diff( [\"a\"], [\"a\", \"b\"] ); // [\"b\"]\n\t */\n\tdiff : function ( obj1, obj2 ) {\n\t\tvar result = [];\n\n\t\tarray.each( obj1, function ( i ) {\n\t\t\tif ( !array.contains( obj2, i ) ) {\n\t\t\t\tarray.add( result, i );\n\t\t\t}\n\t\t} );\n\n\t\tarray.each( obj2, function ( i ) {\n\t\t\tif ( !array.contains( obj1, i ) ) {\n\t\t\t\tarray.add( result, i );\n\t\t\t}\n\t\t} );\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Iterates `obj` and executes `fn` with arguments [`value`, `index`].\n\t * Returning `false` halts iteration.\n\t *\n\t * @method each\n\t * @memberOf array\n\t * @param  {Array}    obj   Array to iterate\n\t * @param  {Function} fn    Function to execute on index values\n\t * @param  {Boolean}  async [Optional] Asynchronous iteration\n\t * @param  {Number}   size  [Optional] Batch size for async iteration, default is 10\n\t * @return {Array}          Array\n\t * @example\n\t * array.each( [ ... ], function ( ... ) { ... } );\n\t * array.each( [ ... ], function ( ... ) { ... }, true, 100 ); // processing batches of a 100\n\t */\n\teach : function ( obj, fn, async, size ) {\n\t\tvar nth = obj.length,\n\t\t    i, offset;\n\n\t\tif ( async !== true ) {\n\t\t\ti = -1;\n\t\t\twhile ( ++i < nth ) {\n\t\t\t\tif ( fn.call( obj, obj[i], i ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tsize   = size || 10;\n\t\t\toffset = 0;\n\n\t\t\tif ( size > nth ) {\n\t\t\t\tsize = nth;\n\t\t\t}\n\n\t\t\tutility.repeat( function () {\n\t\t\t\tvar i = -1,\n\t\t\t\t    idx;\n\n\t\t\t\twhile ( ++i < size ) {\n\t\t\t\t\tidx = i + offset;\n\n\t\t\t\t\tif ( idx === nth || fn.call( obj, obj[idx], idx ) === false ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toffset += size;\n\n\t\t\t\tif ( offset >= nth ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}, undefined, undefined, false );\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Iterates `obj` in reverse and executes `fn` with arguments [`value`, `index`].\n\t * Returning `false` halts iteration.\n\t *\n\t * @method eachReverse\n\t * @memberOf array\n\t * @param  {Array}    obj   Array to iterate\n\t * @param  {Function} fn    Function to execute on index values\n\t * @param  {Boolean}  async [Optional] Asynchronous iteration\n\t * @param  {Number}   size  [Optional] Batch size for async iteration, default is 10\n\t * @return {Array}          Array\n\t * @example\n\t * array.eachReverse( [ ... ], function ( ... ) { ... } );\n\t * array.eachReverse( [ ... ], function ( ... ) { ... }, true, 100 ); // processing batches of a 100\n\t */\n\teachReverse : function ( obj, fn, async, size ) {\n\t\tvar nth = obj.length,\n\t\t\ti, offset;\n\n\t\tif ( async !== true ) {\n\t\t\ti = nth;\n\t\t\twhile ( --i > -1 ) {\n\t\t\t\tif ( fn.call( obj, obj[i], i ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tsize   = size || 10;\n\t\t\toffset = nth - 1;\n\n\t\t\tif ( size > nth ) {\n\t\t\t\tsize = nth;\n\t\t\t}\n\n\t\t\tutility.repeat( function () {\n\t\t\t\tvar i = -1,\n\t\t\t\t\tidx;\n\n\t\t\t\twhile ( ++i < size ) {\n\t\t\t\t\tidx = offset - i;\n\n\t\t\t\t\tif ( idx < 0 || fn.call( obj, obj[idx], idx ) === false ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toffset -= size;\n\n\t\t\t\tif ( offset < 0 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}, undefined, undefined, false );\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Determines if an Array is empty\n\t *\n\t * @method empty\n\t * @memberOf array\n\t * @param  {Array} obj Array to inspect\n\t * @return {Boolean}   `true` if there's no indices\n\t * @example\n\t * array.empty( [] );    // true\n\t * array.empty( [\"a\"] ); // false\n\t */\n\tempty : function ( obj ) {\n\t\treturn ( obj.length === 0 );\n\t},\n\n\t/**\n\t * Determines if two Arrays are equal\n\t *\n\t * @method equal\n\t * @memberOf array\n\t * @param  {Array} obj1 Array to compare\n\t * @param  {Array} obj2 Array to compare\n\t * @return {Boolean} `true` if the Arrays match\n\t * @example\n\t * array.equal( [\"a\"], [\"a\"] );      // true\n\t * array.equal( [\"a\"], [\"a\", \"b\"] ); // false\n\t */\n\tequal : function ( obj1, obj2 ) {\n\t\treturn ( json.encode( obj1 ) === json.encode( obj2 ) );\n\t},\n\n\t/**\n\t * Fills `obj` with the evalution of `arg`, optionally from `start` to `offset`\n\t *\n\t * @method fill\n\t * @memberOf array\n\t * @param  {Array}  obj   Array to fill\n\t * @param  {Mixed}  arg   String, Number of Function to fill with\n\t * @param  {Number} start [Optional] Index to begin filling at\n\t * @param  {Number} end   [Optional] Offset from start to stop filling at\n\t * @return {Array}        Filled Array\n\t * @example\n\t * var myArray = [\"a\", \"b\", \"c\"];\n\t *\n\t * array.fill( myArray, function ( i ) { return i + \"a\"; } );\n\t * myArray[0]; // \"aa\"\n\t */\n\tfill : function ( obj, arg, start, offset ) {\n\t\tvar fn  = typeof arg == \"function\",\n\t\t    l   = obj.length,\n\t\t    i   = !isNaN( start ) ? start : 0,\n\t\t    nth = !isNaN( offset ) ? i + offset : l - 1;\n\n\t\tif ( nth > ( l - 1 ) ) {\n\t\t\tnth = l - 1;\n\t\t}\n\n\t\twhile ( i <= nth ) {\n\t\t\tobj[i] = fn ? arg( obj[i] ) : arg;\n\t\t\ti++;\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Returns the first Array index\n\t *\n\t * @method first\n\t * @memberOf array\n\t * @param  {Array} obj The array\n\t * @return {Mixed}     The first node of the array\n\t * @example\n\t * array.first( [\"a\", \"b\"] ); // \"a\"\n\t */\n\tfirst : function ( obj ) {\n\t\treturn obj[0];\n\t},\n\n\t/**\n\t * Flattens a 2D Array\n\t *\n\t * @method flat\n\t * @memberOf array\n\t * @param  {Array} obj 2D Array to flatten\n\t * @return {Array}     Flatten Array\n\t * @example\n\t * array.flat( [[0, 1], [2, 3]] ); // [0, 1, 2, 3]\n\t */\n\tflat : function ( obj ) {\n\t\tvar result = [];\n\n\t\tresult = obj.reduce( function ( a, b ) {\n\t\t\treturn a.concat( b );\n\t\t}, result );\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Iterates `obj` and executes `fn` with arguments [`value`, `index`].\n\t * Returning `false` halts iteration.\n\t *\n\t * @method forEach\n\t * @memberOf array\n\t * @see array.each\n\t * @param  {Array}    obj   Array to iterate\n\t * @param  {Function} fn    Function to execute on index values\n\t * @param  {Boolean}  async [Optional] Asynchronous iteration\n\t * @param  {Number}   size  [Optional] Batch size for async iteration, default is 10\n\t * @return {Array}          Array\n\t * @example\n\t * array.forEach( [ ... ], function ( ... ) { ... } );\n\t * array.forEach( [ ... ], function ( ... ) { ... }, true, 100 ); // processing batches of a 100\n\t */\n\tforEach : function ( obj, fn, async, size ) {\n\t\treturn array.each( obj, fn, async, size );\n\t},\n\n\t/**\n\t * Creates a 2D Array from an Object\n\t *\n\t * @method fromObject\n\t * @memberOf array\n\t * @param  {Object} obj Object to convert\n\t * @return {Array}      2D Array\n\t * @example\n\t * array.fromObject( {name: \"John\", sex: \"male\"} ); // [[\"name\", \"John\"], [\"sex\", \"male\"]]\n\t */\n\tfromObject : function ( obj ) {\n\t\treturn array.mingle( array.keys( obj ), array.cast( obj ) );\n\t},\n\n\t/**\n\t * Facade of indexOf\n\t *\n\t * @method index\n\t * @memberOf array\n\t * @param  {Array} obj Array to search\n\t * @param  {Mixed} arg Value to find index of\n\t * @return {Number}    The position of arg in instance\n\t * @example\n\t * array.index( [\"a\", \"b\", \"c\"], \"b\" ); // 1\n\t */\n\tindex : function ( obj, arg ) {\n\t\treturn obj.indexOf( arg );\n\t},\n\n\t/**\n\t * Returns an Associative Array as an Indexed Array\n\t *\n\t * @method indexed\n\t * @memberOf array\n\t * @param  {Array} obj Array to index\n\t * @return {Array}     Indexed Array\n\t * @example\n\t * var myArray = [\"a\", \"b\", \"c\"];\n\t *\n\t * myarray.prop = \"d\";\n\t * array.indexed( myArray ); [\"a\", \"b\", \"c\", \"d\"];\n\t */\n\tindexed : function ( obj ) {\n\t\tvar indexed = [];\n\n\t\tutility.iterate( obj, function ( v ) {\n\t\t\tindexed.push( v );\n\t\t} );\n\n\t\treturn indexed;\n\t},\n\n\t/**\n\t * Finds the intersections between two Arrays\n\t *\n\t * @method intersect\n\t * @memberOf array\n\t * @param  {Array} obj1 Source Array\n\t * @param  {Array} obj2 Comparison Array\n\t * @return {Array}      Array of the intersections\n\t * @example\n\t * array.intersect( [\"a\", \"b\", \"d\"], [\"b\", \"c\", \"d\"] ); // [\"b\", \"d\"]\n\t */\n\tintersect : function ( obj1, obj2 ) {\n\t\tvar a = obj1.length > obj2.length ? obj1 : obj2,\n\t\t    b = ( a === obj1 ? obj2 : obj1 );\n\n\t\treturn a.filter( function ( key ) {\n\t\t\treturn array.contains( b, key );\n\t\t} );\n\t},\n\n\t/**\n\t * Resizes `obj` by keeping every index which `fn` evaluates to `true`\n\t *\n\t * @method keepIf\n\t * @memberOf array\n\t * @param  {Array}    obj Array to iterate\n\t * @param  {Function} fn  Function to test indices against\n\t * @return {Array}        Array\n\t * @example\n\t * var myArray = [\"a\", \"b\", \"c\"];\n\t *\n\t * array.keepIf( myArray, function ( i ) { return /a|c/.test( i ); } );\n\t * myArray[1]; // \"c\"\n\t */\n\tkeepIf : function ( obj, fn ) {\n\t\tvar result, remove;\n\n\t\tif ( typeof fn != \"function\" ) {\n\t\t\tthrow new Error( label.invalidArguments );\n\t\t}\n\n\t\tresult = obj.filter( fn );\n\t\tremove = array.diff( obj, result );\n\n\t\tarray.each( remove, function ( i ) {\n\t\t\tarray.remove( obj, array.index( obj, i ) );\n\t\t} );\n\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Returns the keys in an \"Associative Array\"\n\t *\n\t * @method keys\n\t * @memberOf array\n\t * @param  {Mixed} obj Array or Object to extract keys from\n\t * @return {Array}     Array of the keys\n\t * @example\n\t * array.keys( {abc: true, xyz: false} ); // [\"abc\", \"xyz\"]\n\t */\n\tkeys : function ( obj ) {\n\t\treturn Object.keys( obj );\n\t},\n\n\t/**\n\t * Sorts an Array based on key values, like an SQL ORDER BY clause\n\t *\n\t * @method keySort\n\t * @memberOf array\n\t * @param  {Array}  obj   Array to sort\n\t * @param  {String} query Sort query, e.g. \"name, age desc, country\"\n\t * @param  {String} sub   [Optional] Key which holds data, e.g. \"{data: {}}\" = \"data\"\n\t * @return {Array}        Sorted Array\n\t * @example\n\t * var myArray = [{abc: 123124, xyz: 5}, {abc: 123124, xyz: 6}, {abc: 2, xyz: 5}];\n\t *\n\t * array.keySort( myArray, \"abc\" );           // [{abc: 2, xyz: 5}, {abc: 123124, xyz: 5}, {abc: 123124, xyz: 6}];\n\t * array.keySort( myArray, \"abc, xyz desc\" ); // [{abc: 2, xyz: 5}, {abc: 123124, xyz: 6}, {abc: 123124, xyz: 5}];\n\t */\n\tkeySort : function ( obj, query, sub ) {\n\t\tquery       = query.replace( /\\s*asc/ig, \"\" ).replace( /\\s*desc/ig, \" desc\" );\n\t\tvar queries = string.explode( query ).map( function ( i ) { return i.split( \" \" ); } ),\n\t\t    sorts   = [],\n\t\t    braceS  = \"[\\\"\",\n\t\t    braceE  = \"\\\"]\";\n\n\t\tif ( sub && sub !== \"\" ) {\n\t\t\tsub = \".\" + sub;\n\t\t}\n\t\telse {\n\t\t\tsub = \"\";\n\t\t}\n\n\t\tarray.each( queries, function ( i ) {\n\t\t\tvar s = \".\",\n\t\t\t    e = \"\";\n\n\t\t\tif ( regex.not_dotnotation.test( i[0] ) ) {\n\t\t\t\ts = braceS;\n\t\t\t\te = braceE;\n\t\t\t}\n\n\t\t\tsorts.push( \"try {\" );\n\n\t\t\tif ( i[1] === \"desc\" ) {\n\t\t\t\tsorts.push( \"if ( a\" + sub + s + i[0] + e + \" < b\" + sub + s + i[0] + e + \" ) return 1;\" );\n\t\t\t\tsorts.push( \"if ( a\" + sub + s + i[0] + e + \" > b\" + sub + s + i[0] + e + \" ) return -1;\" );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsorts.push( \"if ( a\" + sub + s + i[0] + e + \" < b\" + sub + s + i[0] + e + \" ) return -1;\" );\n\t\t\t\tsorts.push( \"if ( a\" + sub + s + i[0] + e + \" > b\" + sub + s + i[0] + e + \" ) return 1;\" );\n\t\t\t}\n\n\t\t\tsorts.push( \"} catch (e) {\" );\n\t\t\tsorts.push( \"try {\" );\n\t\t\tsorts.push( \"if ( a\" + sub + s + i[0] + e + \" !== undefined ) return \" + ( i[1] === \"desc\" ? \"-1\" : \"1\") + \";\" );\n\t\t\tsorts.push( \"} catch (e) {}\" );\n\t\t\tsorts.push( \"try {\" );\n\t\t\tsorts.push( \"if ( b\" + sub + s + i[0] + e + \" !== undefined ) return \" + ( i[1] === \"desc\" ? \"1\" : \"-1\") + \";\" );\n\t\t\tsorts.push( \"} catch (e) {}\" );\n\t\t\tsorts.push( \"}\" );\n\t\t} );\n\n\t\tsorts.push( \"return 0;\" );\n\n\t\treturn obj.sort( new Function( \"a\", \"b\", sorts.join( \"\\n\" ) ) );\n\t},\n\n\t/**\n\t * Returns the last index of the Array\n\t *\n\t * @method last\n\t * @memberOf array\n\t * @param  {Array}  obj Array\n\t * @param  {Number} arg [Optional] Negative offset from last index to return\n\t * @return {Mixed}      Last index( s ) of Array\n\t * @example\n\t * var myArray = [1, 2, 3, 4];\n\t *\n\t * array.last( myArray );    // 4\n\t * array.last( myArray, 2 ); // [3, 4]\n\t */\n\tlast : function ( obj, arg ) {\n\t\tvar n = obj.length - 1;\n\n\t\tif ( arg >= ( n + 1 ) ) {\n\t\t\treturn obj;\n\t\t}\n\t\telse if ( isNaN( arg ) || arg === 1 ) {\n\t\t\treturn obj[n];\n\t\t}\n\t\telse {\n\t\t\treturn array.limit( obj, ( n - ( --arg ) ), n );\n\t\t}\n\t},\n\n\t/**\n\t * Returns a limited range of indices from the Array\n\t *\n\t * @method limit\n\t * @memberOf array\n\t * @param  {Array}  obj    Array to iterate\n\t * @param  {Number} start  Starting index\n\t * @param  {Number} offset Number of indices to return\n\t * @return {Array}         Array of indices\n\t * @example\n\t * var myArray = [1, 2, 3, 4];\n\t *\n\t * array.limit( myArray, 0, 2 ); // [1, 2]\n\t * array.limit( myArray, 2, 2 ); // [3, 4]\n\t */\n\tlimit : function ( obj, start, offset ) {\n\t\tvar result = [],\n\t\t    i      = start - 1,\n\t\t    nth    = start + offset,\n\t\t    max    = obj.length;\n\n\t\tif ( max > 0 ) {\n\t\t\twhile ( ++i < nth && i < max ) {\n\t\t\t\tresult.push( obj[i] );\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Finds the maximum value in an Array\n\t *\n\t * @method max\n\t * @memberOf array\n\t * @param  {Array} obj Array to process\n\t * @return {Mixed}     Number, String, etc.\n\t * @example\n\t * array.max( [5, 3, 9, 1, 4] ); // 9\n\t */\n\tmax : function ( obj ) {\n\t\treturn array.last( obj.sort( array.sort ) );\n\t},\n\n\t/**\n\t * Finds the mean of an Array\n\t *\n\t * @method mean\n\t * @memberOf array\n\t * @param  {Array} obj Array to process\n\t * @return {Number}    Mean of the Array ( float or integer )\n\t * @example\n\t * array.mean( [1, 3, 5] ); // 3\n\t */\n\tmean : function ( obj ) {\n\t\treturn obj.length > 0 ? ( array.sum( obj ) / obj.length ) : undefined;\n\t},\n\n\t/**\n\t * Finds the median value of an Array\n\t *\n\t * @method median\n\t * @memberOf array\n\t * @param  {Array} obj Array to process\n\t * @return {Number}    Median number of the Array ( float or integer )\n\t * @example\n\t * array.median( [5, 1, 3, 8] ); // 4\n\t * array.median( [5, 1, 3] );    // 3\n\t */\n\tmedian : function ( obj ) {\n\t\tvar nth    = obj.length,\n\t\t    mid    = number.round( nth / 2, \"down\" ),\n\t\t    sorted = obj.sort( array.sort );\n\n\t\treturn number.odd( nth ) ? sorted[mid] : ( ( sorted[mid - 1] + sorted[mid] ) / 2 );\n\t},\n\n\t/**\n\t * Merges `obj2` into `obj1`, excluding duplicate indices\n\t *\n\t * @method merge\n\t * @memberOf array\n\t * @param  {Array} obj1 Array to receive indices\n\t * @param  {Array} obj2 Array to merge\n\t * @return {Array}      First argument\n\t * @example\n\t * var a = [\"a\", \"b\", \"c\"],\n\t *     b = [\"d\"];\n\t *\n\t * array.merge( a, b );\n\t * a[3]; // \"d\"\n\t */\n\tmerge : function ( obj1, obj2 ) {\n\t\tarray.each( obj2, function ( i ) {\n\t\t\tarray.add( obj1, i );\n\t\t} );\n\n\t\treturn obj1;\n\t},\n\n\t/**\n\t * Finds the minimum value in an Array\n\t *\n\t * @method min\n\t * @memberOf array\n\t * @param  {Array} obj Array to process\n\t * @return {Mixed}     Number, String, etc.\n\t * @example\n\t * array.min( [5, 3, 9, 1, 4] ); // 1\n\t */\n\tmin : function ( obj ) {\n\t\treturn obj.sort( array.sort )[0];\n\t},\n\n\t/**\n\t * Mingles Arrays and returns a 2D Array, corresponding index positions are paired\n\t *\n\t * @method mingle\n\t * @memberOf array\n\t * @param  {Array} obj1 Array to mingle\n\t * @param  {Array} obj2 Array to mingle\n\t * @return {Array}      2D Array\n\t * @example\n\t * var a = [\"a\", \"b\"],\n\t *     b = [\"c\", \"d\"];\n\t *\n\t * array.mingle( a, b ); // [[\"a\", \"c\"], [\"b\", \"d\"]]\n\t */\n\tmingle : function ( obj1, obj2 ) {\n\t\tvar result;\n\n\t\tresult = obj1.map( function ( i, idx ) {\n\t\t\treturn [i, obj2[idx]];\n\t\t} );\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Finds the mode value of an Array\n\t *\n\t * @method mode\n\t * @memberOf array\n\t * @param  {Array} obj Array to process\n\t * @return {Mixed}     Mode value of the Array\n\t * @example\n\t * array.mode( [1, 3, 7, 1, 2, 10, 7, 7, 3, 10] );     // 7\n\t * array.mode( [1, 3, 7, 1, 2, 10, 7, 7, 3, 10, 10] ); // [7, 10]\n\t */\n\tmode : function ( obj ) {\n\t\tvar values = {},\n\t\t    count  = 0,\n\t\t    mode   = [],\n\t\t    nth, result;\n\n\t\t// Counting values\n\t\tarray.each( obj, function ( i ) {\n\t\t\tif ( !isNaN( values[i] ) ) {\n\t\t\t\tvalues[i]++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvalues[i] = 1;\n\t\t\t}\n\t\t} );\n\n\t\t// Finding the highest occurring count\n\t\tcount = array.max( array.cast( values ) );\n\n\t\t// Finding values that match the count\n\t\tutility.iterate( values, function ( v, k ) {\n\t\t\tif ( v === count ) {\n\t\t\t\tmode.push( number.parse( k ) );\n\t\t\t}\n\t\t} );\n\n\t\t// Determining the result\n\t\tnth = mode.length;\n\n\t\tif ( nth > 0 ) {\n\t\t\tresult = nth === 1 ? mode[0] : mode;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Finds the range of the Array\n\t *\n\t * @method range\n\t * @memberOf array\n\t * @param  {Array} obj Array to process\n\t * @return {Number}    Range of the array ( float or integer )\n\t * @example\n\t * array.range( [5, 1, 3, 8] ); // 7\n\t */\n\trange : function ( obj ) {\n\t\treturn array.max( obj ) - array.min( obj );\n\t},\n\n\t/**\n\t * Searches a 2D Array `obj` for the first match of `arg` as a second index\n\t *\n\t * @method rassoc\n\t * @memberOf array\n\t * @param  {Array} obj 2D Array to search\n\t * @param  {Mixed} arg Primitive to find\n\t * @return {Mixed}     Array or undefined\n\t * @example\n\t * array.rassoc( [[1, 3], [7, 2], [4, 3]], 3 ); // [1, 3]\n\t */\n\trassoc : function ( obj, arg ) {\n\t\tvar result;\n\n\t\tarray.each( obj, function ( i, idx ) {\n\t\t\tif ( i[1] === arg ) {\n\t\t\t\tresult = obj[idx];\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} );\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Returns Array containing the items in `obj` for which `fn` is not true\n\t *\n\t * @method reject\n\t * @memberOf array\n\t * @param  {Array}    obj Array to iterate\n\t * @param  {Function} fn  Function to execute against `obj` indices\n\t * @return {Array}        Array of indices which fn() is not true\n\t * @example\n\t * array.reject( [0, 1, 2, 3, 4, 5], function ( i ) { return i % 2 > 0; } ); // [0, 2, 4]\n\t */\n\treject : function ( obj, fn ) {\n\t\treturn array.diff( obj, obj.filter( fn ) );\n\t},\n\n\t/**\n\t * Removes indices from an Array without recreating it\n\t *\n\t * @method remove\n\t * @memberOf array\n\t * @param  {Array}  obj   Array to remove from\n\t * @param  {Mixed}  start Starting index, or value to find within obj\n\t * @param  {Number} end   [Optional] Ending index\n\t * @return {Array}        Modified Array\n\t * @example\n\t * var myArray = [\"a\", \"b\", \"c\", \"d\", \"e\"];\n\t *\n\t * array.remove( myArray, 2, 3 );\n\t * myArray[2]; // \"e\"\n\t */\n\tremove : function ( obj, start, end ) {\n\t\tif ( isNaN( start ) ) {\n\t\t\tstart = obj.indexOf( start );\n\n\t\t\tif ( start === -1 ) {\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tstart = start || 0;\n\t\t}\n\n\t\tvar length    = obj.length,\n\t\t    remaining = obj.slice( ( end || start ) + 1 || length );\n\n\t\tobj.length = start < 0 ? ( length + start ) : start;\n\t\tobj.push.apply( obj, remaining );\n\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Deletes every index of `obj` for which `fn` evaluates to true\n\t *\n\t * @method removeIf\n\t * @memberOf array\n\t * @param  {Array}    obj Array to iterate\n\t * @param  {Function} fn  Function to test indices against\n\t * @return {Array}        Array\n\t * @example\n\t * var myArray = [\"a\", \"b\", \"c\"];\n\t *\n\t * array.removeIf( myArray, function ( i ) { return /a|c/.test( i ); } );\n\t * myArray[0]; // \"b\"\n\t */\n\tremoveIf : function ( obj, fn ) {\n\t\tvar remove;\n\n\t\tif ( typeof fn != \"function\" ) {\n\t\t\tthrow new Error( label.invalidArguments );\n\t\t}\n\n\t\tremove = obj.filter( fn );\n\n\t\tarray.each( remove, function ( i ) {\n\t\t\tarray.remove( obj, array.index ( obj, i ) );\n\t\t} );\n\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Deletes indices of `obj` until `fn` evaluates to false\n\t *\n\t * @method removeWhile\n\t * @memberOf array\n\t * @param  {Array}    obj Array to iterate\n\t * @param  {Function} fn  Function to test indices against\n\t * @return {Array}        Array\n\t * @example\n\t * var myArray = [\"a\", \"b\", \"c\"];\n\t *\n\t * array.removeWhile( myArray, function ( i ) { return /a|c/.test( i ); } );\n\t * myArray[0];     // \"b\"\n\t * myarray.length; // 2\n\t */\n\tremoveWhile : function ( obj, fn ) {\n\t\tif ( typeof fn != \"function\" ) {\n\t\t\tthrow new Error( label.invalidArguments );\n\t\t}\n\n\t\tvar remove = [];\n\n\t\tarray.each( obj, function ( i ) {\n\t\t\tif ( fn( i ) !== false ) {\n\t\t\t\tremove.push( i );\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} );\n\n\t\tarray.each( remove, function ( i ) {\n\t\t\tarray.remove( obj, array.index( obj, i ) );\n\t\t} );\n\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Replaces the contents of `obj1` with `obj2`\n\t *\n\t * @method replace\n\t * @memberOf array\n\t * @param  {Array} obj1 Array to modify\n\t * @param  {Array} obj2 Array to values to push into `obj1`\n\t * @return {Array}      Array to modify\n\t * @example\n\t * var myArray = [\"a\", \"b\", \"c\"];\n\t *\n\t * array.replace( myArray, [true, false] );\n\t * myArray[0];     // true\n\t * myarray.length; // 2\n\t */\n\treplace : function ( obj1, obj2 ) {\n\t\tarray.remove( obj1, 0, obj1.length );\n\t\tarray.each( obj2, function ( i ) {\n\t\t\tobj1.push( i );\n\t\t} );\n\n\t\treturn obj1;\n\t},\n\n\t/**\n\t * Returns the \"rest\" of `obj` from `arg`\n\t *\n\t * @method rest\n\t * @memberOf array\n\t * @param  {Array}  obj Array to process\n\t * @param  {Number} arg [Optional] Start position of subset of `obj` ( positive number only )\n\t * @return {Array}      Array of a subset of `obj`\n\t * @example\n\t * array.rest( [1, 2, 3, 4, 5, 6] );    // [2, 3, 4, 5, 6]\n\t * array.rest( [1, 2, 3, 4, 5, 6], 3 ); // [4, 5, 6]\n\t */\n\trest : function ( obj, arg ) {\n\t\targ = arg || 1;\n\n\t\tif ( arg < 1 ) {\n\t\t\targ = 1;\n\t\t}\n\n\t\treturn array.limit( obj, arg, obj.length );\n\t},\n\n\t/**\n\t * Finds the last index of `arg` in `obj`\n\t *\n\t * @method rindex\n\t * @memberOf array\n\t * @param  {Array} obj Array to search\n\t * @param  {Mixed} arg Primitive to find\n\t * @return {Mixed}     Index or undefined\n\t * @example\n\t * array.rindex( [1, 2, 3, 2, 1], 2 ); // 3\n\t */\n\trindex : function ( obj, arg ) {\n\t\tvar result = -1;\n\n\t\tarray.each( obj, function ( i, idx ) {\n\t\t\tif ( i === arg ) {\n\t\t\t\tresult = idx;\n\t\t\t}\n\t\t} );\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Returns new Array with `arg` moved to the first index\n\t *\n\t * @method rotate\n\t * @memberOf array\n\t * @param  {Array}  obj Array to rotate\n\t * @param  {Number} arg Index to become the first index, if negative the rotation is in the opposite direction\n\t * @return {Array}      Newly rotated Array\n\t * @example\n\t * array.rotate( [0, 1, 2, 3, 4],  3 )[0] // 2;\n\t * array.rotate( [0, 1, 2, 3, 4], -2 )[0] // 3;\n\t */\n\trotate : function ( obj, arg ) {\n\t\tvar nth = obj.length,\n\t\t    result;\n\n\t\tif ( arg === 0 ) {\n\t\t\tresult = obj;\n\t\t}\n\t\telse {\n\t\t\tif ( arg < 0 ) {\n\t\t\t\targ += nth;\n\t\t\t}\n\t\t\telse {\n\t\t\t\targ--;\n\t\t\t}\n\n\t\t\tresult = array.limit( obj, arg, nth );\n\t\t\tresult = result.concat( array.limit( obj, 0, arg ) );\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Generates a series Array\n\t *\n\t * @method series\n\t * @memberOf array\n\t * @param  {Number} start  Start value the series\n\t * @param  {Number} end    [Optional] The end of the series\n\t * @param  {Number} offset [Optional] Offset for indices, default is 1\n\t * @return {Array}         Array of new series\n\t * @example\n\t * array.series( 0, 5 );     // [0, 1, 2, 3, 4]\n\t * array.series( 0, 25, 5 ); // [0, 5, 10, 15, 20]\n\t */\n\tseries : function ( start, end, offset ) {\n\t\tstart      = start  || 0;\n\t\tend        = end    || start;\n\t\toffset     = offset || 1;\n\t\tvar result = [],\n\t\t    n      = -1,\n\t\t    nth    = Math.max( 0, Math.ceil( ( end - start ) / offset ) );\n\n\t\twhile ( ++n < nth ) {\n\t\t\tresult[n]  = start;\n\t\t\tstart     += offset;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Sorts the Array by parsing values\n\t *\n\t * @method sort\n\t * @memberOf array\n\t * @param  {Mixed} a Argument to compare\n\t * @param  {Mixed} b Argument to compare\n\t * @return {Number}  Number indicating sort order\n\t * @example\n\t * array.sort( 2, 3 ); // -1\n\t */\n\tsort : function ( a, b ) {\n\t\tvar types = {a: typeof a, b: typeof b},\n\t\t    c, d, result;\n\n\t\tif ( types.a === \"number\" && types.b === \"number\" ) {\n\t\t\tresult = a - b;\n\t\t}\n\t\telse {\n\t\t\tc = a.toString();\n\t\t\td = b.toString();\n\n\t\t\tif ( c < d ) {\n\t\t\t\tresult = -1;\n\t\t\t}\n\t\t\telse if ( c > d ) {\n\t\t\t\tresult = 1;\n\t\t\t}\n\t\t\telse if ( types.a === types.b ) {\n\t\t\t\tresult = 0;\n\t\t\t}\n\t\t\telse if ( types.a === \"boolean\" ) {\n\t\t\t\tresult = -1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tresult = 1;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Sorts `obj` using `sort`\n\t *\n\t * @method sorted\n\t * @memberOf array\n\t * @param  {Array} obj Array to sort\n\t * @return {Array}     Sorted Array\n\t * @example\n\t * var myArray = [5, 9, 2, 4];\n\t *\n\t * array.sorted( myArray );\n\t * myArray[0]; // 2\n\t */\n\tsorted : function ( obj ) {\n\t\treturn obj.sort( array.sort );\n\t},\n\n\t/**\n\t * Splits an Array by divisor\n\t *\n\t * @method split\n\t * @memberOf array\n\t * @param  {Array}  obj     Array to process\n\t * @param  {Number} divisor Integer to divide the Array by\n\t * @return {Array}          Split Array\n\t * @example\n\t * var myArray = [],\n\t *     i       = -1,\n\t *     results;\n\t *\n\t * while ( ++i < 100 ) {\n\t *   myarray.push( i + 1 );\n\t * }\n\t *\n\t * results = array.split( myArray, 21 );\n\t * results.length;     // 21\n\t * results[0].length;  // 5\n\t * results[19].length; // 4\n\t * results[19][0];     // 99\n\t * results[20].length; // 1\n\t * results[20][0];     // 100\n\t */\n\tsplit : function ( obj, divisor ) {\n\t\tvar result  = [],\n\t\t    total   = obj.length,\n\t\t    nth     = Math.ceil( total / divisor ),\n\t\t    low     = Math.floor( total / divisor ),\n\t\t    lower   = Math.ceil( total / nth ),\n\t\t    lowered = false,\n\t\t    start   = 0,\n\t\t    i       = -1;\n\n\t\t// Finding the fold\n\t\tif ( number.diff( total, ( divisor * nth ) ) > nth ) {\n\t\t\tlower = total - ( low * divisor ) + low - 1;\n\t\t}\n\t\telse if ( total % divisor > 0 && lower * nth >= total ) {\n\t\t\tlower--;\n\t\t}\n\n\t\twhile ( ++i < divisor ) {\n\t\t\tif ( i > 0 ) {\n\t\t\t\tstart = start + nth;\n\t\t\t}\n\n\t\t\tif ( !lowered && lower < divisor && i === lower ) {\n\t\t\t\t--nth;\n\t\t\t\tlowered = true;\n\t\t\t}\n\n\t\t\tresult.push( array.limit( obj, start, nth ) );\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Finds the standard deviation of an Array\n\t *\n\t * @method stddev\n\t * @memberOf array\n\t * @param  {Array} obj Array to process\n\t * @return {Number}    Standard deviation of the Array ( float or integer )\n\t * @example\n\t * array.stddev( [1, 3, 5] ); // 1.632993161855452\n\t */\n\tstddev : function ( obj ) {\n\t\treturn Math.sqrt( array.variance( obj ) );\n\t},\n\n\t/**\n\t * Gets the summation of an Array\n\t *\n\t * @method sum\n\t * @memberOf array\n\t * @param  {Array} obj Array to sum\n\t * @return {Number}    Summation of Array\n\t * @example\n\t * array.sum( [2, 4, 3, 1] ); // 10\n\t */\n\tsum : function ( obj ) {\n\t\tvar result = 0;\n\n\t\tif ( obj.length > 0 ) {\n\t\t\tresult = obj.reduce( function ( prev, cur ) {\n\t\t\t\treturn prev + cur;\n\t\t\t} );\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Takes the first `n` indices from `obj`\n\t *\n\t * @method take\n\t * @memberOf array\n\t * @param  {Array}  obj Array to process\n\t * @param  {Number} n   Offset from 0 to return\n\t * @return {Array}      Subset of `obj`\n\t * @example\n\t * array.take( [1, 2, 3, 4], 2 ); // [1, 2]\n\t */\n\ttake : function ( obj, n ) {\n\t\treturn array.limit( obj, 0, n );\n\t},\n\n\t/**\n\t * Casts an Array to Object\n\t *\n\t * @method toObject\n\t * @memberOf array\n\t * @param  {Array} ar Array to transform\n\t * @return {Object}   New object\n\t * @example\n\t * array.toObject( [\"abc\", \"def\"] ); // {0: \"abc\", 1: \"def\"}\n\t */\n\ttoObject : function ( ar ) {\n\t\tvar obj = {},\n\t\t    i   = ar.length;\n\n\t\twhile ( i-- ) {\n\t\t\tobj[i.toString()] = ar[i];\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Gets the total keys in an Array\n\t *\n\t * @method total\n\t * @memberOf array\n\t * @param  {Array} obj Array to find the length of\n\t * @return {Number}    Number of keys in Array\n\t * @example\n\t * var myArray = [true, true, false];\n\t *\n\t * myarray.extra = true;\n\t * array.total( myArray ); // 4\n\t */\n\ttotal : function ( obj ) {\n\t\treturn array.indexed( obj ).length;\n\t},\n\n\t/**\n\t * Returns an Array of unique indices of `obj`\n\t *\n\t * @method unique\n\t * @memberOf array\n\t * @param  {Array} obj Array to process\n\t * @return {Array}     Array of unique indices\n\t * @example\n\t * array.unique( [\"a\", \"b\", \"a\", \"c\", \"b\", \"d\"] ); // [\"a\", \"b\", \"c\", \"d\"]\n\t */\n\tunique : function ( obj ) {\n\t\tvar result = [];\n\n\t\tarray.each( obj, function ( i ) {\n\t\t\tarray.add( result, i );\n\t\t} );\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Finds the variance of an Array ( of numbers )\n\t *\n\t * @method variance\n\t * @memberOf array\n\t * @param  {Array} obj Array to process\n\t * @return {Number}    Variance of the Array ( float or integer )\n\t * @example\n\t * array.variance( [1, 3, 5] ); // 2.6666666666666665\n\t */\n\tvariance : function ( obj ) {\n\t\tvar nth = obj.length,\n\t\t    n   = 0,\n\t\t    mean;\n\n\t\tif ( nth > 0 ) {\n\t\t\tmean = array.mean( obj );\n\n\t\t\tarray.each( obj, function ( i ) {\n\t\t\t\tn += math.sqr( i - mean );\n\t\t\t} );\n\n\t\t\treturn n / nth;\n\t\t}\n\t\telse {\n\t\t\treturn n;\n\t\t}\n\t},\n\n\t/**\n\t * Library version\n\t *\n\t * @type {String}\n\t */\n\tversion: \"1.0.2\",\n\n\t/**\n\t * Converts any arguments to Arrays, then merges elements of `obj` with corresponding elements from each argument\n\t *\n\t * @method zip\n\t * @memberOf array\n\t * @param  {Array} obj  Array to transform\n\t * @param  {Mixed} args Argument instance or Array to merge\n\t * @return {Array}      Array\n\t * @example\n\t * array.zip( [0, 1], 1 ); // [[0, 1], [1, null]]\n\t */\n\tzip : function ( obj, args ) {\n\t\tvar result = [];\n\n\t\t// Preparing args\n\t\tif ( !( args instanceof Array ) ) {\n\t\t\targs = typeof args == \"object\" ? array.cast( args ) : [args];\n\t\t}\n\n\t\tarray.each( args, function ( i, idx ) {\n\t\t\tif ( !( i instanceof Array ) ) {\n\t\t\t\tthis[idx] = [i];\n\t\t\t}\n\t\t} );\n\n\t\t// Building result Array\n\t\tarray.each( obj, function ( i, idx ) {\n\t\t\tresult[idx] = [i];\n\t\t\tarray.each( args, function ( x ) {\n\t\t\t\tresult[idx].push( x[idx] || null );\n\t\t\t} );\n\t\t} );\n\n\t\treturn result;\n\t}\n};\n\n/**\n * @namespace json\n * @private\n */\nvar json = {\n\t/**\n\t * Decodes the argument\n\t *\n\t * @method decode\n\t * @memberOf json\n\t * @param  {String}  arg    String to parse\n\t * @param  {Boolean} silent [Optional] Silently fail\n\t * @return {Mixed}          Entity resulting from parsing JSON, or undefined\n\t * @example\n\t * var x = json.decode( ..., true );\n\t *\n\t * if ( x ) {\n\t *   ...\n\t * }\n\t * else {\n\t *   ... // invalid JSON, with `Error` suppressed by `silent`\n\t * }\n\t */\n\tdecode : function ( arg, silent ) {\n\t\ttry {\n\t\t\treturn JSON.parse( arg );\n\t\t}\n\t\tcatch ( e ) {\n\t\t\tif ( silent !== true ) {\n\t\t\t\tutility.error( e, arguments, this );\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\t},\n\n\t/**\n\t * Encodes `arg` as JSON\n\t *\n\t * @method encode\n\t * @memberOf json\n\t * @param  {Mixed}   arg    Primative\n\t * @param  {Boolean} silent [Optional] Silently fail\n\t * @return {String}         JSON, or undefined\n\t * @example\n\t * var x = json.encode( ..., true );\n\t *\n\t * if ( x ) {\n\t *   ...\n\t * }\n\t * else {\n\t *   ... // invalid JSON, with `Error` suppressed by `silent`\n\t * }\n\t */\n\tencode : function ( arg, silent ) {\n\t\ttry {\n\t\t\treturn JSON.stringify( arg );\n\t\t}\n\t\tcatch ( e ) {\n\t\t\tif ( silent !== true ) {\n\t\t\t\tutility.error( e, arguments, this );\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\t}\n};\n\n/**\n * @namespace label\n * @private\n */\nvar label = {\n\t/**\n\t * Expected a Number\n\t *\n\t * @type {String}\n\t * @memberOf label\n\t */\n\texpectedNumber : \"Expected a Number\",\n\n\t/**\n\t * One or more arguments is invalid\n\t *\n\t * @type {String}\n\t * @memberOf label\n\t */\n\tinvalidArguments : \"One or more arguments is invalid\"\n};\n\n/**\n * @namespace math\n * @private\n */\nvar math = {\n\t/**\n\t * Squares a Number\n\t *\n\t * @method sqr\n\t * @memberOf math\n\t * @param  {Number} n Number to square\n\t * @return {Number}   Squared value\n\t * @example\n\t * var sqr = math.sqr( 23 );\n\t */\n\tsqr : function ( n ) {\n\t\treturn Math.pow( n, 2 );\n\t}\n};\n\n/**\n * @namespace number\n * @private\n */\nvar number = {\n\t/**\n\t * Returns the difference of arg\n\t *\n\t * @method diff\n\t * @memberOf number\n\t * @param {Number} arg Number to compare\n\t * @return {Number}    The absolute difference\n\t * @example\n\t * number.diff( -3, 8 ); // 11\n\t */\n\tdiff : function ( num1, num2 ) {\n\t\tif ( isNaN( num1 ) || isNaN( num2 ) ) {\n\t\t\tthrow new Error( label.expectedNumber );\n\t\t}\n\n\t\treturn Math.abs( num1 - num2 );\n\t},\n\n\t/**\n\t * Tests if an number is even\n\t *\n\t * @method even\n\t * @memberOf number\n\t * @param {Number} arg Number to test\n\t * @return {Boolean}   True if even, or undefined\n\t * @example\n\t * var n = 234235;\n\t *\n\t * if ( number.even( n ) ) {\n\t *   ...\n\t * }\n\t */\n\teven : function ( arg ) {\n\t\treturn arg % 2 === 0;\n\t},\n\n\t/**\n\t * Tests if a number is odd\n\t *\n\t * @method odd\n\t * @memberOf number\n\t * @param  {Number} arg Number to test\n\t * @return {Boolean}    True if odd, or undefined\n\t * @example\n\t * var n = 234235;\n\t *\n\t * if ( number.odd( n ) ) {\n\t *   ...\n\t * }\n\t */\n\todd : function ( arg ) {\n\t\treturn !number.even( arg );\n\t},\n\n\t/**\n\t * Parses the number\n\t *\n\t * @method parse\n\t * @memberOf number\n\t * @param  {Mixed}  arg  Number to parse\n\t * @param  {Number} base Integer representing the base or radix\n\t * @return {Number}      Integer or float\n\t * @example\n\t * // Unsure if `n` is an int or a float\n\t * number.parse( n );\n\t */\n\tparse : function ( arg, base ) {\n\t\treturn ( base === undefined ) ? parseFloat( arg ) : parseInt( arg, base );\n\t},\n\n\t/**\n\t * Rounds a number up or down\n\t *\n\t * @method round\n\t * @memberOf number\n\t * @param  {Number} arg       Number to round\n\t * @param  {String} direction [Optional] \"up\" or \"down\"\n\t * @return {Number}           Rounded interger\n\t * @example\n\t * math.round( n, \"down\" );\n\t */\n\tround : function ( arg, direction ) {\n\t\targ = number.parse( arg );\n\n\t\tif ( direction === undefined || string.isEmpty( direction ) ) {\n\t\t\treturn number.parse( arg.toFixed( 0 ) );\n\t\t}\n\t\telse if ( regex.down.test( direction ) ) {\n\t\t\treturn ~~( arg );\n\t\t}\n\t\telse {\n\t\t\treturn Math.ceil( arg );\n\t\t}\n\t}\n};\n\n/**\n * Regex patterns used through retsu\n *\n * `url` was authored by Diego Perini\n *\n * @namespace regex\n * @private\n */\nvar regex = {\n\tbool            : /^(true|false)?$/,\n\tdown            : /down/,\n\tnot_dotnotation : /-|\\s/,\n\tnull_undefined  : /null|undefined/,\n\tprimitive       : /^(boolean|function|number|string)$/,\n\tspace_hyphen    : /\\s|-/,\n\turl             : /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/i\n};\n\n/**\n * @namespace string\n * @private\n */\nvar string = {\n\t/**\n\t * Splits a string on comma, or a parameter, and trims each value in the resulting Array\n\t *\n\t * @method explode\n\t * @memberOf string\n\t * @param  {String} obj String to capitalize\n\t * @param  {String} arg String to split on\n\t * @return {Array}      Array of the exploded String\n\t * @example\n\t * array.each( string.explode( \"abc, def\" ), function ( i ) {\n\t *   ...\n\t * } );\n\t */\n\texplode : function ( obj, arg ) {\n\t\targ = arg || \",\";\n\n\t\treturn string.trim( obj ).split( new RegExp( \"\\\\s*\" + arg + \"\\\\s*\" ) );\n\t},\n\n\t/**\n\t * Tests if a string is empty\n\t *\n\t * @method isEmpty\n\t * @memberOf string\n\t * @param  {String}  obj String to test\n\t * @return {Boolean}     Result of test\n\t * @example\n\t * if ( !string.isEmpty( ... ) {\n\t *   ...\n\t * } );\n\t */\n\tisEmpty : function ( obj ) {\n\t\treturn string.trim( obj ) === \"\";\n\t},\n\n\t/**\n\t * Trims the whitespace around a String\n\t *\n\t * @method trim\n\t * @memberOf string\n\t * @param  {String} obj String to capitalize\n\t * @return {String}     Trimmed String\n\t * @example\n\t * string.trim( \"  hello world \" ); // \"hello world\"\n\t */\n\ttrim : function ( obj ) {\n\t\treturn obj.replace( /^(\\s+|\\t+|\\n+)|(\\s+|\\t+|\\n+)$/g, \"\" );\n\t}\n};\n\n/**\n * @namespace utility\n * @private\n */\nvar utility = {\n\t/**\n\t * Collection of timers\n\t *\n\t * @memberOf utility\n\t * @type {Object}\n\t */\n\ttimer : {},\n\n\t/**\n\t * Collection of repeating functions\n\t *\n\t * @memberOf utility\n\t * @type {Object}\n\t */\n\trepeating: {},\n\n\t/**\n\t * Clears deferred & repeating functions\n\t *\n\t * @method clearTimers\n\t * @memberOf utility\n\t * @param  {String} id ID of timer( s )\n\t * @return {Undefined} undefined\n\t */\n\tclearTimers : function ( id ) {\n\t\tif ( id === undefined || string.isEmpty( id ) ) {\n\t\t\tthrow new Error( label.invalidArguments );\n\t\t}\n\n\t\t// deferred\n\t\tif ( utility.timer[id] ) {\n\t\t\tclearTimeout( utility.timer[id] );\n\t\t\tdelete utility.timer[id];\n\t\t}\n\n\t\t// repeating\n\t\tif ( utility.repeating[id] ) {\n\t\t\tclearTimeout( utility.repeating[id] );\n\t\t\tdelete utility.repeating[id];\n\t\t}\n\t},\n\n\t/**\n\t * Clones an Object\n\t *\n\t * @method clone\n\t * @memberOf utility\n\t * @param  {Object}  obj     Object to clone\n\t * @param  {Boolean} shallow [Optional] Create a shallow clone, which doesn't maintain prototypes, default is `false`\n\t * @return {Object}          Clone of obj\n\t * @example\n\t * var x = {a: true, b: false},\n\t *     y = utility.clone( x, true );\n\t *\n\t * y.a; // true\n\t */\n\tclone : function ( obj, shallow ) {\n\t\tvar clone, result;\n\n\t\tif ( shallow === true ) {\n\t\t\treturn obj !== undefined && obj !== null ? json.decode( json.encode( obj ) ) : obj;\n\t\t}\n\t\telse if ( !obj || regex.primitive.test( typeof obj ) || ( obj instanceof RegExp ) ) {\n\t\t\treturn obj;\n\t\t}\n\t\telse if ( obj instanceof Array ) {\n\t\t\tresult = [];\n\n\t\t\tarray.each( obj, function ( i, idx ) {\n\t\t\t\tresult[idx] = utility.clone( i );\n\t\t\t} );\n\n\t\t\treturn result;\n\t\t}\n\t\telse if ( !server && obj instanceof Document ) {\n\t\t\treturn xml.decode( xml.encode( obj ) );\n\t\t}\n\t\telse if ( typeof obj.__proto__ != \"undefined\" ) {\n\t\t\treturn utility.extend( obj.__proto__, obj );\n\t\t}\n\t\telse if ( obj instanceof Object ) {\n\t\t\t// If JSON encoding fails due to recursion, the original Object is returned because it's assumed this is for decoration\n\t\t\tclone = json.encode( obj, true );\n\n\t\t\tif ( clone !== undefined ) {\n\t\t\t\tclone = json.decode( clone );\n\n\t\t\t\t// Decorating Functions that would be lost with JSON encoding/decoding\n\t\t\t\tutility.iterate( obj, function ( v, k ) {\n\t\t\t\t\tif ( typeof v == \"function\" ) {\n\t\t\t\t\t\tclone[k] = v;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tclone = obj;\n\t\t\t}\n\n\t\t\treturn clone;\n\t\t}\n\t\telse {\n\t\t\treturn obj;\n\t\t}\n\t},\n\n\t/**\n\t * Defers the execution of Function by at least the supplied milliseconds.\n\t * Timing may vary under \"heavy load\" relative to the CPU & client JavaScript engine.\n\t *\n\t * @method defer\n\t * @memberOf utility\n\t * @param  {Function} fn     Function to defer execution of\n\t * @param  {Number}   ms     Milliseconds to defer execution\n\t * @param  {Number}   id     [Optional] ID of the deferred function\n\t * @param  {Boolean}  repeat [Optional] Describes the execution, default is `false`\n\t * @return {String}          ID of the timer\n\t */\n\tdefer : function ( fn, ms, id, repeat ) {\n\t\tvar op;\n\n\t\tms     = ms || 0;\n\t\trepeat = ( repeat === true );\n\n\t\tif ( id !== undefined ) {\n\t\t\tutility.clearTimers( id );\n\t\t}\n\t\telse {\n\t\t\tid = utility.uuid( true );\n\t\t}\n\n\t\top = function () {\n\t\t\tutility.clearTimers( id );\n\t\t\tfn();\n\t\t};\n\n\t\tutility[repeat ? \"repeating\" : \"timer\"][id] = setTimeout( op, ms );\n\n\t\treturn id;\n\t},\n\n\t/**\n\t * Error handling, with history in `error.log`\n\t *\n\t * @method error\n\t * @memberOf utility\n\t * @param  {Mixed}   e       Error object or message to display\n\t * @param  {Array}   args    Array of arguments from the callstack\n\t * @param  {Mixed}   scope   Entity that was \"this\"\n\t * @param  {Boolean} warning [Optional] Will display as console warning if true\n\t * @return {Undefined}       undefined\n\t */\n\terror : function ( e, args, scope, warning ) {\n\t\tvar o = {\n\t\t\t\"arguments\" : args ? array.cast( args ) : [],\n\t\t\tmessage     : e.message || e,\n\t\t\tnumber      : e.number ? ( e.number & 0xFFFF ) : undefined,\n\t\t\tscope       : scope,\n\t\t\tstack       : e.stack || undefined,\n\t\t\ttimestamp   : new Date().toUTCString(),\n\t\t\ttype        : e.type || \"TypeError\"\n\t\t};\n\n\t\tutility.log( o.stack || o.message, warning !== true ? \"error\" : \"warn\" );\n\n\t\treturn undefined;\n\t},\n\n\t/**\n\t * Creates a \"class\" extending Object, with optional decoration\n\t *\n\t * @method extend\n\t * @memberOf utility\n\t * @param  {Object} obj Object to extend\n\t * @param  {Object} arg [Optional] Object for decoration\n\t * @return {Object}     Decorated obj\n\t * @example\n\t * var extendObj = utility.extend( someObj, {newProperty: value} );\n\t */\n\textend : function ( obj, arg ) {\n\t\tvar o;\n\n\t\tif ( obj === undefined ) {\n\t\t\tthrow new Error( label.invalidArguments );\n\t\t}\n\n\t\to = Object.create( obj );\n\n\t\tif ( arg instanceof Object ) {\n\t\t\tutility.merge( o, arg );\n\t\t}\n\n\t\treturn o;\n\t},\n\n\t/**\n\t * Iterates an Object and executes a function against the properties.\n\t * Returning `false` halts iteration.\n\t *\n\t * @method iterate\n\t * @memberOf utility\n\t * @param  {Object}   obj Object to iterate\n\t * @param  {Function} fn  Function to execute against properties\n\t * @return {Object}       Object\n\t * @example\n\t * utility.iterate( {...}, function ( value, key ) {\n\t *   ...\n\t * } );\n\t */\n\titerate : function ( obj, fn ) {\n\t\tif ( typeof fn != \"function\" ) {\n\t\t\tthrow new Error( label.invalidArguments );\n\t\t}\n\n\t\tarray.each( Object.keys( obj ), function ( i ) {\n\t\t\treturn fn.call( obj, obj[i], i );\n\t\t} );\n\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Writes argument to the console\n\t *\n\t * @method log\n\t * @memberOf utility\n\t * @param  {String} arg    String to write to the console\n\t * @param  {String} target [Optional] Target console, default is \"log\"\n\t * @return {Undefined}     undefined\n\t * @example\n\t * utility.log( \"Something bad happened\", \"warn\" );\n\t */\n\tlog : function ( arg, target ) {\n\t\tvar ts, msg;\n\n\t\tif ( typeof console != \"undefined\" ) {\n\t\t\tts  = typeof arg != \"object\";\n\t\t\tmsg = ts ? \"[\" + new Date().toLocaleTimeString() + \"] \" + arg : arg;\n\t\t\tconsole[target || \"log\"]( msg );\n\t\t}\n\t},\n\n\t/**\n\t * Merges obj with arg\n\t *\n\t * @method merge\n\t * @memberOf utility\n\t * @param  {Object} obj Object to decorate\n\t * @param  {Object} arg Decoration\n\t * @return {Object}     Decorated Object\n\t * @example\n\t * var obj = {a: true};\n\t *\n\t * util.merge( obj, {b: false} )\n\t * obj.b; // false\n\t */\n\tmerge : function ( obj, arg ) {\n\t\tutility.iterate( arg, function ( v, k ) {\n\t\t\tif ( ( obj[k] instanceof Array ) && ( v instanceof Array ) ) {\n\t\t\t\tarray.merge( obj[k], v );\n\t\t\t}\n\t\t\telse if ( ( obj[k] instanceof Object ) && ( v instanceof Object ) ) {\n\t\t\t\tutility.iterate( v, function ( x, y ) {\n\t\t\t\t\tobj[k][y] = utility.clone( x );\n\t\t\t\t} );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tobj[k] = utility.clone( v );\n\t\t\t}\n\t\t} );\n\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Creates a recursive function. Return false from the function to halt recursion.\n\t *\n\t * @method repeat\n\t * @memberOf utility\n\t * @param  {Function} fn  Function to execute repeatedly\n\t * @param  {Number}   ms  Milliseconds to stagger the execution\n\t * @param  {String}   id  [Optional] Timeout ID\n\t * @param  {Boolean}  now Executes `fn` and then setup repetition, default is `true`\n\t * @return {String}       Timeout ID\n\t * @example\n\t * utility.repeat( function () {\n\t *   ...\n\t *\n\t *   // Cancelling repetition at some point in the future\n\t *   if ( someCondition ) {\n\t *     return false;\n\t *   }\n\t * }, 1000, \"repeating\" );\n\t */\n\trepeat : function ( fn, ms, id, now ) {\n\t\tms  = ms || 10;\n\t\tid  = id || utility.uuid( true );\n\t\tnow = ( now !== false );\n\n\t\t// Could be valid to return false from initial execution\n\t\tif ( now && fn() === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Creating repeating execution\n\t\tutility.defer( function () {\n\t\t\tvar recursive = function ( fn, ms, id ) {\n\t\t\t\tvar recursive = this;\n\n\t\t\t\tif ( fn() !== false ) {\n\t\t\t\t\tutility.repeating[id] = setTimeout( function () {\n\t\t\t\t\t\trecursive.call( recursive, fn, ms, id );\n\t\t\t\t\t}, ms );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdelete utility.repeating[id];\n\t\t\t\t}\n\t\t\t};\n\n\t\t\trecursive.call( recursive, fn, ms, id );\n\t\t}, ms, id, true );\n\n\t\treturn id;\n\t},\n\n\t/**\n\t * Generates a version 4 UUID\n\t *\n\t * @method uuid\n\t * @memberOf utility\n\t * @param  {Boolean} strip [Optional] Strips - from UUID\n\t * @return {String}        UUID\n\t * @example\n\t * var uuid4 = utility.uuid();\n\t */\n\tuuid : function ( strip ) {\n\t\tvar s = function () { return ( ( ( 1 + Math.random() ) * 0x10000 ) | 0 ).toString( 16 ).substring( 1 ); },\n\t\t    r = [8, 9, \"a\", \"b\"],\n\t\t    o;\n\n\t\to = ( s() + s() + \"-\" + s() + \"-4\" + s().substr( 0, 3 ) + \"-\" + r[Math.floor( Math.random() * 4 )] + s().substr( 0, 3 ) + \"-\" + s() + s() + s() );\n\n\t\tif ( strip === true ) {\n\t\t\to = o.replace( /-/g, \"\" );\n\t\t}\n\n\t\treturn o;\n\t}\n};\n\n/**\n * @namespace xml\n * @private\n */\nvar xml = {\n\t/**\n\t * Returns XML (Document) Object from a String\n\t *\n\t * @method decode\n\t * @memberOf xml\n\t * @param  {String} arg XML String\n\t * @return {Object}     XML Object or undefined\n\t */\n\tdecode : function ( arg ) {\n\t\tif ( typeof arg != \"string\" || string.isEmpty( arg ) ) {\n\t\t\tthrow new Error( label.invalidArguments );\n\t\t}\n\n\t\treturn new DOMParser().parseFromString( arg, \"text/xml\" );\n\t},\n\n\t/**\n\t * Returns XML String from an Object or Array\n\t *\n\t * @method encode\n\t * @memberOf xml\n\t * @param  {Mixed} arg Object or Array to cast to XML String\n\t * @return {String}    XML String or undefined\n\t */\n\tencode : function ( arg, wrap ) {\n\t\ttry {\n\t\t\tif ( arg === undefined ) {\n\t\t\t\tthrow new Error( label.invalidArguments );\n\t\t\t}\n\n\t\t\twrap    = ( wrap !== false );\n\t\t\tvar x   = wrap ? \"<xml>\" : \"\",\n\t\t\t    top = ( arguments[2] !== false ),\n\t\t\t    node;\n\n\t\t\t/**\n\t\t\t * Encodes a value as a node\n\t\t\t *\n\t\t\t * @method node\n\t\t\t * @memberOf xml.encode\n\t\t\t * @private\n\t\t\t * @param  {String} name  Node name\n\t\t\t * @param  {String} value Node value\n\t\t\t * @return {String}       Node\n\t\t\t */\n\t\t\tnode = function ( name, value ) {\n\t\t\t\tvar output = \"<n>v</n>\";\n\n\t\t\t\toutput = output.replace( \"v\", ( regex.cdata.test( value ) ? \"<![CDATA[\" + value + \"]]>\" : value ) );\n\t\t\t\treturn output.replace(/<(\\/)?n>/g, \"<$1\" + name + \">\");\n\t\t\t};\n\n\t\t\tif ( arg !== null && arg.xml ) {\n\t\t\t\targ = arg.xml;\n\t\t\t}\n\n\t\t\tif ( arg instanceof Document ) {\n\t\t\t\targ = ( new XMLSerializer() ).serializeToString( arg );\n\t\t\t}\n\n\t\t\tif ( regex.boolean_number_string.test( typeof arg ) ) {\n\t\t\t\tx += node( \"item\", arg );\n\t\t\t}\n\t\t\telse if ( typeof arg == \"object\" ) {\n\t\t\t\tutility.iterate( arg, function ( v, k ) {\n\t\t\t\t\tx += xml.encode( v, ( typeof v == \"object\" ), false ).replace( /item|xml/g, isNaN( k ) ? k : \"item\" );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tx += wrap ? \"</xml>\" : \"\";\n\n\t\t\tif ( top ) {\n\t\t\t\tx = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF8\\\"?>\" + x;\n\t\t\t}\n\n\t\t\treturn x;\n\t\t}\n\t\tcatch ( e ) {\n\t\t\tutility.error( e, arguments, this );\n\n\t\t\treturn undefined;\n\t\t}\n\t},\n\n\t/**\n\t * Validates `arg` is XML\n\t *\n\t * @method valid\n\t * @memberOf xml\n\t * @param  {String} arg String to validate\n\t * @return {Boolean}    `true` if valid XML\n\t */\n\tvalid : function ( arg ) {\n\t\treturn ( xml.decode( arg ).getElementsByTagName( \"parsererror\" ).length === 0 );\n\t}\n};\n\n// Node, AMD & window supported\nif ( typeof exports != \"undefined\" ) {\n\tmodule.exports = array;\n}\nelse if ( typeof define == \"function\" ) {\n\tdefine( function () {\n\t\treturn array;\n\t} );\n}\nelse {\n\tglobal.retsu = array;\n}\n} )( this );\n"]}